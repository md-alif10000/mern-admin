{"ast":null,"code":"import _slicedToArray from \"/home/mdalif/Desktop/coding/MERN/mern-admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/home/mdalif/Desktop/coding/MERN/mern-admin/src/views/products/AllProducts/index.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport MaterialTable from \"material-table\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport { deleteProductById } from \"../../../actions/product.action\";\nimport { Redirect } from \"react-router\";\nimport { Row, Col } from \"react-bootstrap\";\nimport Modal from \"../../components/UI/Modal\";\nimport { generatePublicUrl } from \"src/urlconfig\";\nimport VisibilityIcon from \"@material-ui/icons/Visibility\";\nimport CreateRoundedIcon from \"@material-ui/icons/CreateRounded\";\nimport ProductForm from '../ProductForm';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar AllProducts = function AllProducts(props) {\n  _s();\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      productDetailModal = _useState2[0],\n      setProductDetailModal = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      productDetails = _useState4[0],\n      setProductDetails = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      productUpdateModal = _useState6[0],\n      setProductUpdateModal = _useState6[1];\n\n  var dispatch = useDispatch();\n  var product = useSelector(function (state) {\n    return state.product;\n  });\n  var products = product.products;\n  var items = [];\n  products.map(function (item, index) {\n    items.push(item);\n  });\n  var columns = [{\n    title: \"Products Name\",\n    field: \"name\"\n  }, {\n    title: \"Price\",\n    field: \"price\"\n  }, {\n    title: \"Stock\",\n    field: \"quantity\",\n    render: function render(row) {\n      return row.quantity < 10 ? /*#__PURE__*/_jsxDEV(\"h5\", {\n        style: {\n          color: \"red\"\n        },\n        children: row.quantity\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 11\n      }, _this) : /*#__PURE__*/_jsxDEV(\"h5\", {\n        style: {\n          color: \"yellow\"\n        },\n        children: row.quantity\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 11\n      }, _this);\n    }\n  }, {\n    title: \"Category\",\n    field: \"category\",\n    render: function render(row) {\n      return row.category && row.category.name;\n    }\n  }, {\n    title: \"Update\",\n    field: \"category\",\n    render: function render(row) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          justifyContent: \"space-around\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(VisibilityIcon, {\n          style: {\n            margin: \"0 5px\",\n            cursor: \"pointer\"\n          },\n          variant: \"contained\",\n          color: \"yellow\",\n          onClick: function onClick() {\n            return showProductDetailsModal(row);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(CreateRoundedIcon, {\n          style: {\n            margin: \"0 5px\",\n            cursor: \"pointer\"\n          },\n          variant: \"contained\",\n          color: \"green\",\n          onClick: function onClick() {\n            return showProductUpdateModal(row);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(DeleteIcon, {\n          style: {\n            margin: \"0 10px\",\n            cursor: \"pointer\"\n          },\n          variant: \"contained\",\n          color: \"secondary\",\n          onClick: function onClick() {\n            var payload = {\n              productId: row._id\n            };\n            console.log(row);\n            dispatch(deleteProductById(payload));\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, _this);\n    }\n  }];\n\n  var handleCloseProductDetailsModal = function handleCloseProductDetailsModal() {\n    setProductDetailModal(false);\n  };\n\n  var showProductDetailsModal = function showProductDetailsModal(product) {\n    setProductDetails(product);\n    setProductDetailModal(true);\n  };\n\n  var renderProductDetailsModal = function renderProductDetailsModal() {\n    if (!productDetails) {\n      return null;\n    }\n\n    return /*#__PURE__*/_jsxDEV(Modal, {\n      show: productDetailModal,\n      handleClose: handleCloseProductDetailsModal,\n      modalTitle: \"Product Details\",\n      size: \"lg\",\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          md: \"6\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"key\",\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 11\n          }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"value\",\n            children: /*#__PURE__*/_jsxDEV(\"h5\", {\n              children: productDetails.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 13\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 11\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 9\n        }, _this), /*#__PURE__*/_jsxDEV(Col, {\n          md: \"6\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"key\",\n            children: \"Price\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 11\n          }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"value\",\n            children: /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: productDetails.price\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 13\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 11\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 9\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 7\n      }, _this), /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          md: \"6\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"key\",\n            children: \"Quantity\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 11\n          }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"value\",\n            children: /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: productDetails.quantity\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 13\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 11\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 9\n        }, _this), /*#__PURE__*/_jsxDEV(Col, {\n          md: \"6\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"key\",\n            children: \"Category\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 11\n          }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"value\",\n            children: /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: productDetails.category.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 13\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 11\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 9\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 7\n      }, _this), /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          md: \"12\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"key\",\n            children: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 11\n          }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"value\",\n            children: productDetails.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 11\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 9\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 7\n      }, _this), /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 9\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 7\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 5\n    }, _this);\n  };\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      name = _useState8[0],\n      setName = _useState8[1];\n\n  var _useState9 = useState(\"\"),\n      _useState10 = _slicedToArray(_useState9, 2),\n      quantity = _useState10[0],\n      setQuantity = _useState10[1];\n\n  var _useState11 = useState(\"\"),\n      _useState12 = _slicedToArray(_useState11, 2),\n      price = _useState12[0],\n      setPrice = _useState12[1];\n\n  var _useState13 = useState(\"\"),\n      _useState14 = _slicedToArray(_useState13, 2),\n      description = _useState14[0],\n      setDescription = _useState14[1];\n\n  var _useState15 = useState(\"\"),\n      _useState16 = _slicedToArray(_useState15, 2),\n      categoryId = _useState16[0],\n      setCategoryId = _useState16[1];\n\n  var _useState17 = useState([]),\n      _useState18 = _slicedToArray(_useState17, 2),\n      productPictures = _useState18[0],\n      setProductPictures = _useState18[1];\n\n  var handleCloseProductUpdateModal = function handleCloseProductUpdateModal() {\n    setProductUpdateModal(false);\n  };\n\n  var showProductUpdateModal = function showProductUpdateModal(product) {\n    setName(product.name);\n    setQuantity(product.quantity);\n    setPrice(product.price);\n    setDescription(product.desc);\n    setCategoryId(product.category._id);\n    setProductPictures(product.productPictures);\n    setProductUpdateModal(true);\n  };\n\n  var submitProductForm = function submitProductForm() {\n    console.log('product form submitted');\n  };\n\n  var renderProductUpdateModal = function renderProductUpdateModal() {\n    // if (!productDetails) {\n    //   return null;\n    // }\n    console.log(description);\n    return /*#__PURE__*/_jsxDEV(Modal, {\n      show: productUpdateModal,\n      handleClose: handleCloseProductUpdateModal,\n      modalTitle: \"Product Details\",\n      size: \"lg\",\n      children: /*#__PURE__*/_jsxDEV(ProductForm, {\n        name: name,\n        price: price,\n        description: description,\n        quantity: quantity,\n        categoryId: categoryId,\n        productPictures: productPictures,\n        onChangeName: function onChangeName(e) {\n          return setName(e.target.value);\n        },\n        onChangeDescription: function onChangeDescription(e) {\n          return setDescription(e.target.value);\n        },\n        onChangePrice: function onChangePrice(e) {\n          return setPrice(e.target.value);\n        },\n        onChangeQuantity: function onChangeQuantity(e) {\n          return setQuantity(e.target.value);\n        },\n        onChangeCategory: function onChangeCategory(e) {\n          return setCategoryId(e.target.value);\n        },\n        onSubmit: submitProductForm,\n        actionTitle: \"Update Product\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 7\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 5\n    }, _this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [renderProductDetailsModal(), renderProductUpdateModal(), /*#__PURE__*/_jsxDEV(MaterialTable, {\n      title: \"All Products\",\n      data: items,\n      columns: columns,\n      options: {\n        search: true,\n        filtering: true,\n        exportButton: true,\n        selection: true,\n        grouping: true,\n        rowStyle: {\n          backgroundColor: \"#2b70e0\",\n          color: \"white\"\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true);\n};\n\n_s(AllProducts, \"YFUFcS4250TiEWsL3CBrMu5350o=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = AllProducts;\nexport default AllProducts;\n\nvar _c;\n\n$RefreshReg$(_c, \"AllProducts\");","map":{"version":3,"sources":["/home/mdalif/Desktop/coding/MERN/mern-admin/src/views/products/AllProducts/index.js"],"names":["React","useState","useEffect","MaterialTable","useDispatch","useSelector","DeleteIcon","deleteProductById","Redirect","Row","Col","Modal","generatePublicUrl","VisibilityIcon","CreateRoundedIcon","ProductForm","AllProducts","props","productDetailModal","setProductDetailModal","productDetails","setProductDetails","productUpdateModal","setProductUpdateModal","dispatch","product","state","products","items","map","item","index","push","columns","title","field","render","row","quantity","color","category","name","display","justifyContent","margin","cursor","showProductDetailsModal","showProductUpdateModal","payload","productId","_id","console","log","handleCloseProductDetailsModal","renderProductDetailsModal","price","description","setName","setQuantity","setPrice","setDescription","categoryId","setCategoryId","productPictures","setProductPictures","handleCloseProductUpdateModal","desc","submitProductForm","renderProductUpdateModal","e","target","value","search","filtering","exportButton","selection","grouping","rowStyle","backgroundColor"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport MaterialTable from \"material-table\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\n\nimport { deleteProductById } from \"../../../actions/product.action\";\nimport { Redirect } from \"react-router\";\nimport { Row, Col } from \"react-bootstrap\";\nimport Modal from \"../../components/UI/Modal\";\nimport { generatePublicUrl } from \"src/urlconfig\";\nimport VisibilityIcon from \"@material-ui/icons/Visibility\";\nimport CreateRoundedIcon from \"@material-ui/icons/CreateRounded\";\nimport ProductForm from '../ProductForm'\n\nconst AllProducts = (props) => {\n  const [productDetailModal, setProductDetailModal] = useState(true);\n  const [productDetails, setProductDetails] = useState(null);\n  const [productUpdateModal, setProductUpdateModal] = useState(false);\n  const dispatch = useDispatch();\n  const product = useSelector((state) => state.product);\n  const { products } = product;\n\n  const items = [];\n  products.map((item, index) => {\n    items.push(item);\n  });\n\n  const columns = [\n    { title: \"Products Name\", field: \"name\" },\n    { title: \"Price\", field: \"price\" },\n    {\n      title: \"Stock\",\n      field: \"quantity\",\n      render: (row) =>\n        row.quantity < 10 ? (\n          <h5 style={{ color: \"red\" }}>{row.quantity}</h5>\n        ) : (\n          <h5 style={{ color: \"yellow\" }}>{row.quantity}</h5>\n        ),\n    },\n    {\n      title: \"Category\",\n      field: \"category\",\n      render: (row) => row.category && row.category.name,\n    },\n\n    {\n      title: \"Update\",\n      field: \"category\",\n      render: (row) => (\n        <div style={{ display: \"flex\", justifyContent: \"space-around\" }}>\n          <VisibilityIcon\n            style={{ margin: \"0 5px\", cursor: \"pointer\" }}\n            variant=\"contained\"\n            color=\"yellow\"\n            onClick={() => showProductDetailsModal(row)}\n          />\n          <CreateRoundedIcon\n            style={{ margin: \"0 5px\", cursor: \"pointer\" }}\n            variant=\"contained\"\n            color=\"green\"\n            onClick={() => showProductUpdateModal(row)}\n          />\n          <DeleteIcon\n            style={{ margin: \"0 10px\", cursor: \"pointer\" }}\n            variant=\"contained\"\n            color=\"secondary\"\n            onClick={() => {\n              const payload = {\n                productId: row._id,\n              };\n              console.log(row);\n              dispatch(deleteProductById(payload));\n            }}\n          />\n        </div>\n      ),\n    },\n  ];\n\n\n\nconst handleCloseProductDetailsModal = () => {\n  setProductDetailModal(false);\n};\n\nconst showProductDetailsModal = (product) => {\n  setProductDetails(product);\n  setProductDetailModal(true);\n};\n\nconst renderProductDetailsModal = () => {\n  if (!productDetails) {\n    return null;\n  }\n\n  return (\n    <Modal\n      show={productDetailModal}\n      handleClose={handleCloseProductDetailsModal}\n      modalTitle={\"Product Details\"}\n      size=\"lg\"\n    >\n      <Row>\n        <Col md=\"6\">\n          <label className=\"key\">Name</label>\n          <p className=\"value\">\n            <h5>{productDetails.name}</h5>\n          </p>\n        </Col>\n        <Col md=\"6\">\n          <label className=\"key\">Price</label>\n          <p className=\"value\">\n            <strong>{productDetails.price}</strong>\n          </p>\n        </Col>\n      </Row>\n      <Row>\n        <Col md=\"6\">\n          <label className=\"key\">Quantity</label>\n          <p className=\"value\">\n            <strong>{productDetails.quantity}</strong>\n          </p>\n        </Col>\n        <Col md=\"6\">\n          <label className=\"key\">Category</label>\n          <p className=\"value\">\n            <strong>{productDetails.category.name}</strong>\n          </p>\n        </Col>\n      </Row>\n      <Row>\n        <Col md=\"12\">\n          <label className=\"key\">Description</label>\n          <p className=\"value\">{productDetails.description}</p>\n        </Col>\n      </Row>\n      <Row>\n        <Col>\n         \n        </Col>\n      </Row>\n    </Modal>\n  );\n};\n\n\n\n  const [name, setName] = useState(\"\");\n  const [quantity, setQuantity] = useState(\"\");\n  const [price, setPrice] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [categoryId, setCategoryId] = useState(\"\");\n  const [productPictures, setProductPictures] = useState([]);\n\n\nconst handleCloseProductUpdateModal = () => {\n  setProductUpdateModal(false);\n};\n\nconst showProductUpdateModal = (product) => {\n  setName(product.name);\n  setQuantity(product.quantity);\n  setPrice(product.price);\n  setDescription(product.desc);\n  setCategoryId(product.category._id);\n  setProductPictures(product.productPictures);\n\n  setProductUpdateModal(true);\n};\n\n\n\n\n\nconst submitProductForm=()=>{\n  console.log('product form submitted')\n}\n\nconst renderProductUpdateModal = () => {\n  // if (!productDetails) {\n  //   return null;\n  // }\n  console.log(description)\n\n  return (\n    <Modal\n      show={productUpdateModal}\n      handleClose={handleCloseProductUpdateModal}\n      modalTitle={\"Product Details\"}\n      size=\"lg\"\n    >\n      <ProductForm\n        name={name}\n        price={price}\n        description={description}\n        quantity={quantity}\n        categoryId={categoryId}\n        productPictures={productPictures}\n        onChangeName={(e) => setName(e.target.value)}\n        onChangeDescription={(e) => setDescription(e.target.value)}\n        onChangePrice={(e) => setPrice(e.target.value)}\n        onChangeQuantity={(e) => setQuantity(e.target.value)}\n        onChangeCategory={(e) => setCategoryId(e.target.value)}\n        onSubmit={submitProductForm}\n        actionTitle={\"Update Product\"}\n      />\n    </Modal>\n  );\n};\n\n\n\n\n\n\n\n\n\n  return (\n    <>\n      {renderProductDetailsModal()}\n      {renderProductUpdateModal()}\n      <MaterialTable\n        title=\"All Products\"\n        data={items}\n        columns={columns}\n        options={{\n          search: true,\n          filtering: true,\n          exportButton: true,\n\n          selection: true,\n          grouping: true,\n          rowStyle: {\n            backgroundColor: \"#2b70e0\",\n            color: \"white\",\n          },\n        }}\n      />\n    </>\n  );\n};\nexport default AllProducts;\n"]},"metadata":{},"sourceType":"module"}