{"ast":null,"code":"import _toConsumableArray from \"/home/mdalif/Desktop/coding/MERN/mern-admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _createForOfIteratorHelper from \"/home/mdalif/Desktop/coding/MERN/mern-admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";\nimport _slicedToArray from \"/home/mdalif/Desktop/coding/MERN/mern-admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/home/mdalif/Desktop/coding/MERN/mern-admin/src/views/products/AddNewProducts/index2.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { Row, Col } from \"react-bootstrap\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { addProduct, deleteProductById } from \"../../../actions\";\nimport Swal from \"sweetalert2\";\nimport { FormControl, InputLabel, Select, Input, FormHelperText, TextField, Button, MenuItem } from \"@material-ui/core\";\nimport FileUpload from \"./FilesUpload\";\nimport { Redirect } from \"react-router\"; //  export function productPicture(files) {\n//    setProductPictures(files);\n//  }\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AddNewProducts(props) {\n  _s();\n\n  var _this = this;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      productPictures = _useState2[0],\n      setProductPictures = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      name = _useState4[0],\n      setName = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      quantity = _useState6[0],\n      setQuantity = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      price = _useState8[0],\n      setPrice = _useState8[1];\n\n  var _useState9 = useState(\"\"),\n      _useState10 = _slicedToArray(_useState9, 2),\n      description = _useState10[0],\n      setDescription = _useState10[1];\n\n  var _useState11 = useState(\"\"),\n      _useState12 = _slicedToArray(_useState11, 2),\n      categoryId = _useState12[0],\n      setCategoryId = _useState12[1];\n\n  var _useState13 = useState(null),\n      _useState14 = _slicedToArray(_useState13, 2),\n      productDetails = _useState14[0],\n      setProductDetails = _useState14[1];\n\n  var category = useSelector(function (state) {\n    return state.category;\n  });\n  var auth = useSelector(function (state) {\n    return state.auth;\n  });\n  var dispatch = useDispatch();\n  var useStyles = makeStyles(function (theme) {\n    return {\n      button: {\n        display: \"block\",\n        marginTop: theme.spacing(2)\n      },\n      formControl: {\n        margin: theme.spacing(1),\n        minWidth: 420\n      }\n    };\n  });\n  var classes = useStyles(); // const productPictures = [];\n  // const updateFilesCb = (file) => {\n  //   console.log(\"File uploded\");\n  //   productPictures.push(file);\n  //   console.log(productPictures);\n  // };\n\n  var submitProductForm = function submitProductForm() {\n    var form = new FormData();\n    form.append(\"name\", name);\n    form.append(\"quantity\", quantity);\n    form.append(\"price\", price);\n    form.append(\"description\", description);\n    form.append(\"category\", categoryId);\n\n    var _iterator = _createForOfIteratorHelper(productPictures),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var pic = _step.value;\n        form.append(\"productPicture\", pic);\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n\n    if (name == \"\") return Swal.fire(\"Oops...\", \"<h3>Product Neme is required..!</h3>\", \"error\");\n    if (price == \"\") return Swal.fire(\"Oops...\", \"<h3>Price is required..!</h3>\", \"error\");\n    if (quantity == \"\") return Swal.fire(\"Oops...\", \"Quantity is required..!\", \"error\");\n    if (description == \"\") return Swal.fire(\"Oops...\", \"Product description is required..!\", \"error\");\n    dispatch(addProduct(form));\n    setName(\"\");\n    setQuantity(\"\");\n    setPrice(\"\");\n    setDescription(\"\");\n    setCategoryId(\"\");\n    setProductPictures([]);\n  };\n\n  var handleProductPictures = function handleProductPictures(e) {\n    setProductPictures([].concat(_toConsumableArray(productPictures), [e.target.files[0]]));\n  };\n\n  var createCategoryList = function createCategoryList(categories) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n    var _iterator2 = _createForOfIteratorHelper(categories),\n        _step2;\n\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var _category = _step2.value;\n        options.push({\n          value: _category._id,\n          name: _category.name\n        });\n\n        if (_category.children.length > 0) {\n          createCategoryList(_category.children, options);\n        }\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n\n    return options;\n  };\n\n  if (!auth.authenticate) return /*#__PURE__*/_jsxDEV(Redirect, {\n    to: \"/login\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 114,\n    columnNumber: 34\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"text-center m-auto \",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-md-6 col=lg-8 col-sm-10 p-5 \",\n      style: {\n        border: \"5px solid black\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: submitProductForm,\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          id: \"standard-full-width\",\n          label: \"Label\",\n          style: {\n            margin: 8\n          },\n          value: name,\n          onChange: function onChange(e) {\n            return setName(e.target.value);\n          },\n          placeholder: \"Placeholder\",\n          helperText: \"Full width!\",\n          fullWidth: true,\n          margin: \"normal\",\n          InputLabelProps: {\n            shrink: true\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col\",\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              id: \"filled-name\",\n              label: \"Price\",\n              value: price,\n              onChange: function onChange(e) {\n                return setPrice(e.target.value);\n              },\n              variant: \"filled\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col\",\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              id: \"filled-name\",\n              label: \"Stock\",\n              value: quantity,\n              onChange: function onChange(e) {\n                return setQuantity(e.target.value);\n              },\n              variant: \"filled\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row mt-5 mb-5\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col\",\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              value: description,\n              onChange: function onChange(e) {\n                return setDescription(e.target.value);\n              },\n              id: \"outlined-multiline-static\",\n              label: \"Description\",\n              multiline: true,\n              rows: 8,\n              variant: \"outlined\",\n              fullWidth: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center mb-4\",\n          children: /*#__PURE__*/_jsxDEV(FormControl, {\n            className: classes.formControl,\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              fullWidth: true,\n              id: \"demo-controlled-open-select-label\",\n              children: \"Select a category\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Select Category\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              labelId: \"demo-controlled-open-select-label\",\n              id: \"demo-controlled-open-select\" // open={open}\n              // onClose={handleClose}\n              // onOpen={handleOpen}\n              ,\n              className: \"form-control\",\n              value: categoryId,\n              placeholder: \"Select Category\",\n              onChange: function onChange(e) {\n                return setCategoryId(e.target.value);\n              },\n              children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"\",\n                children: /*#__PURE__*/_jsxDEV(\"em\", {\n                  children: \"None\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 189,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 17\n              }, this), createCategoryList(category.categories).map(function (option) {\n                return /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: option.value,\n                  children: option.name\n                }, option.value, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 192,\n                  columnNumber: 19\n                }, _this);\n              })]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            margin: '50px',\n            textAlign: 'center'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            name: \"productPicture\",\n            onChange: handleProductPictures,\n            multiple: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center mb-5\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              color: \"primary\",\n              onClick: submitProductForm,\n              children: \"Add new product\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 117,\n    columnNumber: 5\n  }, this);\n}\n\n_s(AddNewProducts, \"NpI/P8hxLLiXFdU97KMXoDPI234=\", true, function () {\n  return [useSelector, useSelector, useDispatch];\n});\n\n_c = AddNewProducts;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddNewProducts\");","map":{"version":3,"sources":["/home/mdalif/Desktop/coding/MERN/mern-admin/src/views/products/AddNewProducts/index2.js"],"names":["React","useState","Row","Col","makeStyles","useSelector","useDispatch","addProduct","deleteProductById","Swal","FormControl","InputLabel","Select","Input","FormHelperText","TextField","Button","MenuItem","FileUpload","Redirect","AddNewProducts","props","productPictures","setProductPictures","name","setName","quantity","setQuantity","price","setPrice","description","setDescription","categoryId","setCategoryId","productDetails","setProductDetails","category","state","auth","dispatch","useStyles","theme","button","display","marginTop","spacing","formControl","margin","minWidth","classes","submitProductForm","form","FormData","append","pic","fire","handleProductPictures","e","target","files","createCategoryList","categories","options","push","value","_id","children","length","authenticate","border","shrink","map","option","textAlign"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Row, Col } from \"react-bootstrap\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { addProduct, deleteProductById } from \"../../../actions\";\nimport Swal from \"sweetalert2\";\nimport {\n  FormControl,\n  InputLabel,\n  Select,\n  Input,\n  FormHelperText,\n  TextField,\n  Button,\n  MenuItem,\n} from \"@material-ui/core\";\nimport FileUpload from \"./FilesUpload\";\nimport { Redirect } from \"react-router\";\n\n//  export function productPicture(files) {\n//    setProductPictures(files);\n//  }\n\nexport default function AddNewProducts(props) {\n  const [productPictures, setProductPictures] = useState([])\n  const [name, setName] = useState(\"\");\n  const [quantity, setQuantity] = useState(\"\");\n  const [price, setPrice] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [categoryId, setCategoryId] = useState(\"\");\n  const [productDetails, setProductDetails] = useState(null);\n  const category = useSelector((state) => state.category);\n  const auth = useSelector((state) => state.auth);\n  const dispatch = useDispatch();\n\n  const useStyles = makeStyles((theme) => ({\n    button: {\n      display: \"block\",\n      marginTop: theme.spacing(2),\n    },\n    formControl: {\n      margin: theme.spacing(1),\n      minWidth: 420,\n    },\n  }));\n\n  const classes = useStyles();\n\n  // const productPictures = [];\n\n  // const updateFilesCb = (file) => {\n  //   console.log(\"File uploded\");\n  //   productPictures.push(file);\n  //   console.log(productPictures);\n  // };\n\n  const submitProductForm = () => {\n    const form = new FormData();\n\n    form.append(\"name\", name);\n    form.append(\"quantity\", quantity);\n    form.append(\"price\", price);\n    form.append(\"description\", description);\n    form.append(\"category\", categoryId);\n\n    for (let pic of productPictures) {\n      form.append(\"productPicture\", pic);\n    }\n\n    if (name == \"\")\n      return Swal.fire(\n        \"Oops...\",\n        \"<h3>Product Neme is required..!</h3>\",\n        \"error\"\n      );\n\n    if (price == \"\")\n      return Swal.fire(\"Oops...\", \"<h3>Price is required..!</h3>\", \"error\");\n    if (quantity == \"\")\n      return Swal.fire(\"Oops...\", \"Quantity is required..!\", \"error\");\n    if (description == \"\")\n      return Swal.fire(\n        \"Oops...\",\n        \"Product description is required..!\",\n        \"error\"\n      );\n\n    dispatch(addProduct(form));\n    setName(\"\");\n    setQuantity(\"\");\n    setPrice(\"\");\n    setDescription(\"\");\n    setCategoryId(\"\");\n    setProductPictures([])\n  };\n\n\n\n  const handleProductPictures = (e) => {\n    setProductPictures([...productPictures, e.target.files[0]]);\n  };\n\n  const createCategoryList = (categories, options = []) => {\n    for (let category of categories) {\n      options.push({ value: category._id, name: category.name });\n      if (category.children.length > 0) {\n        createCategoryList(category.children, options);\n      }\n    }\n\n    return options;\n  };\n\n  if (!auth.authenticate) return <Redirect to={\"/login\"} />;\n\n  return (\n    <div className=\"text-center m-auto \">\n      <div\n        className=\"col-md-6 col=lg-8 col-sm-10 p-5 \"\n        style={{ border: \"5px solid black\" }}\n      >\n        <form onSubmit={submitProductForm}>\n          <TextField\n            id=\"standard-full-width\"\n            label=\"Label\"\n            style={{ margin: 8 }}\n            value={name}\n            onChange={(e) => setName(e.target.value)}\n            placeholder=\"Placeholder\"\n            helperText=\"Full width!\"\n            fullWidth\n            margin=\"normal\"\n            InputLabelProps={{\n              shrink: true,\n            }}\n          />\n          <div className=\"row\">\n            <div className=\"col\">\n              <TextField\n                id=\"filled-name\"\n                label=\"Price\"\n                value={price}\n                onChange={(e) => setPrice(e.target.value)}\n                variant=\"filled\"\n              />\n            </div>\n            <div className=\"col\">\n              <TextField\n                id=\"filled-name\"\n                label=\"Stock\"\n                value={quantity}\n                onChange={(e) => setQuantity(e.target.value)}\n                variant=\"filled\"\n              />\n            </div>\n          </div>\n          <div className=\"row mt-5 mb-5\">\n            <div className=\"col\">\n              <TextField\n                value={description}\n                onChange={(e) => setDescription(e.target.value)}\n                id=\"outlined-multiline-static\"\n                label=\"Description\"\n                multiline\n                rows={8}\n                variant=\"outlined\"\n                fullWidth\n              />\n            </div>\n          </div>\n          <div className=\"text-center mb-4\">\n            <FormControl className={classes.formControl}>\n              <InputLabel fullWidth id=\"demo-controlled-open-select-label\">\n                Select a category\n              </InputLabel>\n              <h3>Select Category</h3>\n              <Select\n                labelId=\"demo-controlled-open-select-label\"\n                id=\"demo-controlled-open-select\"\n                // open={open}\n                // onClose={handleClose}\n                // onOpen={handleOpen}\n                className=\"form-control\"\n                value={categoryId}\n                placeholder=\"Select Category\"\n                onChange={(e) => setCategoryId(e.target.value)}\n              >\n                <MenuItem value=\"\">\n                  <em>None</em>\n                </MenuItem>\n                {createCategoryList(category.categories).map((option) => (\n                  <MenuItem key={option.value} value={option.value}>\n                    {option.name}\n                  </MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n          </div>\n          {/* <FileUpload updateFilesCb={updateFilesCb}></FileUpload> */}\n          <div style={{margin:'50px',textAlign:'center'}}>\n  \n            <input type=\"file\" name=\"productPicture\"\n         onChange={handleProductPictures} multiple/>\n       \n          </div>\n\n          <div className=\"text-center mb-5\">\n            <div>\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={submitProductForm}\n              >\n                Add new product\n              </Button>\n            </div>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}