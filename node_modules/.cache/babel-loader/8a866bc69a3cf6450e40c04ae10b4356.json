{"ast":null,"code":"import _defineProperty from \"/home/mdalif/Desktop/coding/MERN/mern-admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/home/mdalif/Desktop/coding/MERN/mern-admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _createForOfIteratorHelper from \"/home/mdalif/Desktop/coding/MERN/mern-admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";\nimport _slicedToArray from \"/home/mdalif/Desktop/coding/MERN/mern-admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/home/mdalif/Desktop/coding/MERN/mern-admin/src/views/categories/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport \"./style.css\";\nimport { Container, Row, Col, Button } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { addCategory, getAllCategory, updateCategories, deleteCategories as deleteCategoriesAction } from \"../../actions/category.action\";\nimport MODAL from \"../components/UI/Modal/index\";\nimport CheckboxTree from \"react-checkbox-tree\";\nimport \"react-checkbox-tree/lib/react-checkbox-tree.css\";\nimport { IoCheckboxOutline, IoCheckbox, IoChevronForwardCircleOutline, IoChevronDownCircleSharp, IoAddCircleOutline, IoTrashOutline } from \"react-icons/io5\";\nimport UpdateCategoriesModal from \"./components/UpdateCategoriesModal\";\nimport AddCategoryModal from \"./components/AddCategoryModal\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Category(props) {\n  _s();\n\n  var _this = this;\n\n  var dispatch = useDispatch();\n  var category = useSelector(function (state) {\n    return state.category;\n  });\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      categoryName = _useState2[0],\n      setCategoryName = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      parentCategoryId = _useState4[0],\n      setParentCategoryId = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      categoryImage = _useState6[0],\n      setCategoryImage = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      checked = _useState8[0],\n      setChecked = _useState8[1];\n\n  var _useState9 = useState([]),\n      _useState10 = _slicedToArray(_useState9, 2),\n      expanded = _useState10[0],\n      setExpanded = _useState10[1];\n\n  var _useState11 = useState([]),\n      _useState12 = _slicedToArray(_useState11, 2),\n      checkedArray = _useState12[0],\n      setCheckedArray = _useState12[1];\n\n  var _useState13 = useState([]),\n      _useState14 = _slicedToArray(_useState13, 2),\n      expandedArray = _useState14[0],\n      setExpandedArray = _useState14[1];\n\n  var _useState15 = useState(false),\n      _useState16 = _slicedToArray(_useState15, 2),\n      show = _useState16[0],\n      setShow = _useState16[1];\n\n  var _useState17 = useState(false),\n      _useState18 = _slicedToArray(_useState17, 2),\n      updateCategoryModal = _useState18[0],\n      setUpdateCategoryModal = _useState18[1];\n\n  var _useState19 = useState(false),\n      _useState20 = _slicedToArray(_useState19, 2),\n      deleteCategoryModal = _useState20[0],\n      setDeleteCategoryModal = _useState20[1];\n\n  useEffect(function () {\n    if (!category.loading) {}\n  }, [category.loading]);\n\n  var renderCategories = function renderCategories(categories) {\n    var myCategories = [];\n\n    var _iterator = _createForOfIteratorHelper(categories),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var _category = _step.value;\n        myCategories.push({\n          label: _category.name,\n          value: _category._id,\n          children: _category.children.length > 0 && renderCategories(_category.children)\n        });\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n\n    return myCategories;\n  };\n\n  var handleClose = function handleClose() {\n    setShow(false);\n  };\n\n  var AddAndClose = function AddAndClose() {\n    var form = new FormData();\n\n    if (categoryName == \"\") {\n      alert(\"Name is Required\");\n      return;\n    }\n\n    form.append(\"name\", categoryName);\n    form.append(\"parentId\", parentCategoryId);\n    form.append(\"categoryImage\", categoryImage);\n    console.log(form);\n    dispatch(addCategory(form));\n    setCategoryName(\"\");\n    setParentCategoryId(\"\");\n    var cat = {\n      categoryName: categoryName,\n      parentCategoryId: parentCategoryId,\n      categoryImage: categoryImage\n    };\n    console.log(cat);\n    setShow(false);\n  };\n\n  var handleShow = function handleShow() {\n    return setShow(true);\n  };\n\n  var createCategoryList = function createCategoryList(categories) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n    var _iterator2 = _createForOfIteratorHelper(categories),\n        _step2;\n\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var _category2 = _step2.value;\n        options.push({\n          value: _category2._id,\n          name: _category2.name,\n          parentId: _category2.parentId,\n          type: _category2.type\n        });\n\n        if (_category2.children) {\n          createCategoryList(_category2.children, options);\n        }\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n\n    return options;\n  };\n\n  var handleCategoryImage = function handleCategoryImage(e) {\n    setCategoryImage(e.target.files[0]);\n  };\n\n  var updateCategory = function updateCategory() {\n    updateCheckedAndExpandedCategories();\n    setUpdateCategoryModal(true);\n  };\n\n  var updateCheckedAndExpandedCategories = function updateCheckedAndExpandedCategories() {\n    var categories = createCategoryList(category.categories);\n    var checkedArray = [];\n    var expandedArray = [];\n    checked.length > 0 && checked.forEach(function (categoryId, index) {\n      var category = categories.find(function (category, _index) {\n        return categoryId == category.value;\n      });\n      category && checkedArray.push(category);\n    });\n    expanded.length > 0 && expanded.forEach(function (categoryId, index) {\n      var category = categories.find(function (category, _index) {\n        return categoryId == category.value;\n      });\n      category && expandedArray.push(category);\n    });\n    setCheckedArray(checkedArray);\n    setExpandedArray(expandedArray);\n  };\n\n  var handleCategoryInput = function handleCategoryInput(key, value, index, type) {\n    if (type == \"checked\") {\n      var updatedCheckedArray = checkedArray.map(function (item, _index) {\n        return index == _index ? _objectSpread(_objectSpread({}, item), {}, _defineProperty({}, key, value)) : item;\n      });\n      setCheckedArray(updatedCheckedArray);\n    } else if (type == \"expanded\") {\n      var updatedExpandedArray = expandedArray.map(function (item, _index) {\n        return index == _index ? _objectSpread(_objectSpread({}, item), {}, _defineProperty({}, key, value)) : item;\n      });\n      setExpandedArray(updatedExpandedArray);\n    }\n  };\n\n  var UpdatedCategoriesForm = function UpdatedCategoriesForm() {\n    var form = new FormData();\n    expandedArray.forEach(function (item, index) {\n      form.append(\"_id\", item.value);\n      form.append(\"name\", item.name);\n      form.append(\"parentId\", item.parentId ? item.parentId : \"\");\n      form.append(\"type\", item.type);\n    });\n    checkedArray.forEach(function (item, index) {\n      form.append(\"_id\", item.value);\n      form.append(\"name\", item.name);\n      form.append(\"parentId\", item.parentId ? item.parentId : \"\");\n      form.append(\"type\", item.type);\n    });\n    dispatch(updateCategories(form)).then(function (result) {\n      if (result) {\n        dispatch(getAllCategory());\n      }\n    });\n    setUpdateCategoryModal(false);\n  };\n\n  var deleteCategory = function deleteCategory() {\n    updateCheckedAndExpandedCategories();\n    setDeleteCategoryModal(true);\n  };\n\n  var deleteCategories = function deleteCategories() {\n    var checkedIdsArray = checkedArray.map(function (item, index) {\n      return {\n        _id: item.value\n      };\n    });\n    var expandedIdsArray = expandedArray.map(function (item, index) {\n      return {\n        _id: item.value\n      };\n    });\n    var idsArray = expandedIdsArray.concat(checkedIdsArray);\n\n    if (checkedArray.length > 0) {\n      dispatch(deleteCategoriesAction(checkedIdsArray)).then(function (result) {\n        if (result) {\n          dispatch(getAllCategory());\n          setDeleteCategoryModal(false);\n        }\n      });\n    }\n\n    dispatch(getAllCategory());\n    setDeleteCategoryModal(false);\n  };\n\n  var renderDeleteCategoryModal = function renderDeleteCategoryModal() {\n    return /*#__PURE__*/_jsxDEV(MODAL, {\n      modalTitle: \"Confirm\",\n      show: deleteCategoryModal,\n      handleClose: function handleClose() {\n        return setDeleteCategoryModal(false);\n      },\n      buttons: [{\n        label: \"No\",\n        color: \"primary\",\n        onClick: function onClick() {\n          alert(\"No\");\n        }\n      }, {\n        label: \"Yes\",\n        color: \"danger\",\n        onClick: deleteCategories\n      }],\n      children: [\"Are you sure?\", /*#__PURE__*/_jsxDEV(\"h5\", {\n        children: \"Expanded\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 5\n      }, _this), expandedArray.map(function (item, index) {\n        return /*#__PURE__*/_jsxDEV(\"span\", {\n          children: item.name\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 6\n        }, _this);\n      }), /*#__PURE__*/_jsxDEV(\"h5\", {\n        children: \"Checked\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 5\n      }, _this), checkedArray.map(function (item, index) {\n        return /*#__PURE__*/_jsxDEV(\"span\", {\n          children: item.name\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 6\n        }, _this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 4\n    }, _this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          md: 12,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"flex\",\n              justifyContent: \"space-between\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Category\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"actionBtnContainer\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleShow,\n                children: [/*#__PURE__*/_jsxDEV(IoAddCircleOutline, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 252,\n                  columnNumber: 10\n                }, this), \"Add\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: deleteCategory,\n                children: [/*#__PURE__*/_jsxDEV(IoTrashOutline, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 256,\n                  columnNumber: 10\n                }, this), \"Delete\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: updateCategory,\n                children: \"Edit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 259,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          md: 12,\n          children: /*#__PURE__*/_jsxDEV(CheckboxTree, {\n            nodes: renderCategories(category.categories),\n            checked: checked,\n            expanded: expanded,\n            onCheck: function onCheck(checked) {\n              return setChecked(checked);\n            },\n            onExpand: function onExpand(expanded) {\n              return setExpanded(expanded);\n            },\n            icons: {\n              check: /*#__PURE__*/_jsxDEV(IoCheckbox, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 16\n              }, this),\n              uncheck: /*#__PURE__*/_jsxDEV(IoCheckboxOutline, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 18\n              }, this),\n              halfCheck: /*#__PURE__*/_jsxDEV(IoCheckboxOutline, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 276,\n                columnNumber: 20\n              }, this),\n              expandClose: /*#__PURE__*/_jsxDEV(IoChevronForwardCircleOutline, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 22\n              }, this),\n              expandOpen: /*#__PURE__*/_jsxDEV(IoChevronDownCircleSharp, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 278,\n                columnNumber: 21\n              }, this)\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(AddCategoryModal, {\n      modalTitle: \"Add New Category\",\n      show: show,\n      handleClose: handleClose,\n      AddAndClose: AddAndClose,\n      categoryName: categoryName,\n      setCategoryName: setCategoryName,\n      categoryList: createCategoryList(category.categories),\n      handleCategoryImage: handleCategoryImage,\n      parentCategoryId: parentCategoryId,\n      setParentCategoryId: setParentCategoryId\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(UpdateCategoriesModal, {\n      show: updateCategoryModal,\n      handleClose: function handleClose() {\n        return setUpdateCategoryModal(false);\n      },\n      modalTitle: \"Update Categories\",\n      size: \"lg\",\n      expandedArray: expandedArray,\n      checkedArray: checkedArray,\n      handleCategoryInput: handleCategoryInput,\n      categoryList: createCategoryList(category.categories),\n      UpdatedCategoriesForm: UpdatedCategoriesForm\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 4\n    }, this), renderDeleteCategoryModal()]\n  }, void 0, true);\n}\n\n_s(Category, \"zhb5XPZDqeBQg+Buspu8Kie1VE8=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = Category;\nexport default Category;\n\nvar _c;\n\n$RefreshReg$(_c, \"Category\");","map":{"version":3,"sources":["/home/mdalif/Desktop/coding/MERN/mern-admin/src/views/categories/index.js"],"names":["React","useState","useEffect","Container","Row","Col","Button","useDispatch","useSelector","addCategory","getAllCategory","updateCategories","deleteCategories","deleteCategoriesAction","MODAL","CheckboxTree","IoCheckboxOutline","IoCheckbox","IoChevronForwardCircleOutline","IoChevronDownCircleSharp","IoAddCircleOutline","IoTrashOutline","UpdateCategoriesModal","AddCategoryModal","Category","props","dispatch","category","state","categoryName","setCategoryName","parentCategoryId","setParentCategoryId","categoryImage","setCategoryImage","checked","setChecked","expanded","setExpanded","checkedArray","setCheckedArray","expandedArray","setExpandedArray","show","setShow","updateCategoryModal","setUpdateCategoryModal","deleteCategoryModal","setDeleteCategoryModal","loading","renderCategories","categories","myCategories","push","label","name","value","_id","children","length","handleClose","AddAndClose","form","FormData","alert","append","console","log","cat","handleShow","createCategoryList","options","parentId","type","handleCategoryImage","e","target","files","updateCategory","updateCheckedAndExpandedCategories","forEach","categoryId","index","find","_index","handleCategoryInput","key","updatedCheckedArray","map","item","updatedExpandedArray","UpdatedCategoriesForm","then","result","deleteCategory","checkedIdsArray","expandedIdsArray","idsArray","concat","renderDeleteCategoryModal","color","onClick","display","justifyContent","check","uncheck","halfCheck","expandClose","expandOpen"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAAyBC,SAAzB,QAA0C,OAA1C;AACA,OAAO,aAAP;AACA,SAASC,SAAT,EAAoBC,GAApB,EAAyBC,GAAzB,EAA8BC,MAA9B,QAA4C,iBAA5C;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SACCC,WADD,EAECC,cAFD,EAGCC,gBAHD,EAICC,gBAAgB,IAAIC,sBAJrB,QAKO,+BALP;AAOA,OAAOC,KAAP,MAAkB,8BAAlB;AACA,OAAOC,YAAP,MAAyB,qBAAzB;AACA,OAAO,iDAAP;AACA,SACCC,iBADD,EAECC,UAFD,EAGCC,6BAHD,EAICC,wBAJD,EAKCC,kBALD,EAMCC,cAND,QAOO,iBAPP;AAQA,OAAOC,qBAAP,MAAkC,oCAAlC;AACA,OAAOC,gBAAP,MAA6B,+BAA7B;;;;AAEA,SAASC,QAAT,CAAkBC,KAAlB,EAAyB;AAAA;;AAAA;;AACxB,MAAMC,QAAQ,GAAGnB,WAAW,EAA5B;AAEA,MAAMoB,QAAQ,GAAGnB,WAAW,CAAC,UAACoB,KAAD;AAAA,WAAWA,KAAK,CAACD,QAAjB;AAAA,GAAD,CAA5B;;AAHwB,kBAIgB1B,QAAQ,CAAC,EAAD,CAJxB;AAAA;AAAA,MAIjB4B,YAJiB;AAAA,MAIHC,eAJG;;AAAA,mBAKwB7B,QAAQ,CAAC,EAAD,CALhC;AAAA;AAAA,MAKjB8B,gBALiB;AAAA,MAKCC,mBALD;;AAAA,mBAMkB/B,QAAQ,CAAC,IAAD,CAN1B;AAAA;AAAA,MAMjBgC,aANiB;AAAA,MAMFC,gBANE;;AAAA,mBAOMjC,QAAQ,CAAC,EAAD,CAPd;AAAA;AAAA,MAOjBkC,OAPiB;AAAA,MAORC,UAPQ;;AAAA,mBAQQnC,QAAQ,CAAC,EAAD,CARhB;AAAA;AAAA,MAQjBoC,QARiB;AAAA,MAQPC,WARO;;AAAA,oBASgBrC,QAAQ,CAAC,EAAD,CATxB;AAAA;AAAA,MASjBsC,YATiB;AAAA,MASHC,eATG;;AAAA,oBAUkBvC,QAAQ,CAAC,EAAD,CAV1B;AAAA;AAAA,MAUjBwC,aAViB;AAAA,MAUFC,gBAVE;;AAAA,oBAWAzC,QAAQ,CAAC,KAAD,CAXR;AAAA;AAAA,MAWjB0C,IAXiB;AAAA,MAWXC,OAXW;;AAAA,oBAY8B3C,QAAQ,CAAC,KAAD,CAZtC;AAAA;AAAA,MAYjB4C,mBAZiB;AAAA,MAYIC,sBAZJ;;AAAA,oBAa8B7C,QAAQ,CAAC,KAAD,CAbtC;AAAA;AAAA,MAajB8C,mBAbiB;AAAA,MAaIC,sBAbJ;;AAgBxB9C,EAAAA,SAAS,CAAC,YAAM;AACf,QAAG,CAACyB,QAAQ,CAACsB,OAAb,EAAqB,CAEpB;AAGD,GANQ,EAMN,CAACtB,QAAQ,CAACsB,OAAV,CANM,CAAT;;AAYA,MAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,UAAD,EAAgB;AACxC,QAAIC,YAAY,GAAG,EAAnB;;AADwC,+CAGnBD,UAHmB;AAAA;;AAAA;AAGxC,0DAAiC;AAAA,YAAxBxB,SAAwB;AAChCyB,QAAAA,YAAY,CAACC,IAAb,CAAkB;AACjBC,UAAAA,KAAK,EAAE3B,SAAQ,CAAC4B,IADC;AAEjBC,UAAAA,KAAK,EAAE7B,SAAQ,CAAC8B,GAFC;AAGjBC,UAAAA,QAAQ,EACP/B,SAAQ,CAAC+B,QAAT,CAAkBC,MAAlB,GAA2B,CAA3B,IAAgCT,gBAAgB,CAACvB,SAAQ,CAAC+B,QAAV;AAJhC,SAAlB;AAMA;AAVuC;AAAA;AAAA;AAAA;AAAA;;AAWxC,WAAON,YAAP;AACA,GAZD;;AAcA,MAAMQ,WAAW,GAAG,SAAdA,WAAc,GAAM;AACzBhB,IAAAA,OAAO,CAAC,KAAD,CAAP;AACA,GAFD;;AAIA,MAAMiB,WAAW,GAAG,SAAdA,WAAc,GAAM;AACzB,QAAMC,IAAI,GAAG,IAAIC,QAAJ,EAAb;;AAEA,QAAIlC,YAAY,IAAI,EAApB,EAAwB;AACvBmC,MAAAA,KAAK,CAAC,kBAAD,CAAL;AACA;AACA;;AAEDF,IAAAA,IAAI,CAACG,MAAL,CAAY,MAAZ,EAAoBpC,YAApB;AACAiC,IAAAA,IAAI,CAACG,MAAL,CAAY,UAAZ,EAAwBlC,gBAAxB;AACA+B,IAAAA,IAAI,CAACG,MAAL,CAAY,eAAZ,EAA6BhC,aAA7B;AACMiC,IAAAA,OAAO,CAACC,GAAR,CAAYL,IAAZ;AACNpC,IAAAA,QAAQ,CAACjB,WAAW,CAACqD,IAAD,CAAZ,CAAR;AACAhC,IAAAA,eAAe,CAAC,EAAD,CAAf;AACAE,IAAAA,mBAAmB,CAAC,EAAD,CAAnB;AAEA,QAAMoC,GAAG,GAAG;AACXvC,MAAAA,YAAY,EAAZA,YADW;AAEXE,MAAAA,gBAAgB,EAAhBA,gBAFW;AAGXE,MAAAA,aAAa,EAAbA;AAHW,KAAZ;AAKAiC,IAAAA,OAAO,CAACC,GAAR,CAAYC,GAAZ;AACAxB,IAAAA,OAAO,CAAC,KAAD,CAAP;AACA,GAvBD;;AAyBA,MAAMyB,UAAU,GAAG,SAAbA,UAAa;AAAA,WAAMzB,OAAO,CAAC,IAAD,CAAb;AAAA,GAAnB;;AAEA,MAAM0B,kBAAkB,GAAG,SAArBA,kBAAqB,CAACnB,UAAD,EAA8B;AAAA,QAAjBoB,OAAiB,uEAAP,EAAO;;AAAA,gDACnCpB,UADmC;AAAA;;AAAA;AACxD,6DAAiC;AAAA,YAAxBxB,UAAwB;AAChC4C,QAAAA,OAAO,CAAClB,IAAR,CAAa;AACZG,UAAAA,KAAK,EAAE7B,UAAQ,CAAC8B,GADJ;AAEZF,UAAAA,IAAI,EAAE5B,UAAQ,CAAC4B,IAFH;AAGZiB,UAAAA,QAAQ,EAAE7C,UAAQ,CAAC6C,QAHP;AAIZC,UAAAA,IAAI,EAAE9C,UAAQ,CAAC8C;AAJH,SAAb;;AAMA,YAAI9C,UAAQ,CAAC+B,QAAb,EAAuB;AACtBY,UAAAA,kBAAkB,CAAC3C,UAAQ,CAAC+B,QAAV,EAAoBa,OAApB,CAAlB;AACA;AACD;AAXuD;AAAA;AAAA;AAAA;AAAA;;AAYxD,WAAOA,OAAP;AACA,GAbD;;AAeA,MAAMG,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACC,CAAD,EAAO;AAClCzC,IAAAA,gBAAgB,CAACyC,CAAC,CAACC,MAAF,CAASC,KAAT,CAAe,CAAf,CAAD,CAAhB;AACA,GAFD;;AAIA,MAAMC,cAAc,GAAG,SAAjBA,cAAiB,GAAM;AAC5BC,IAAAA,kCAAkC;AAClCjC,IAAAA,sBAAsB,CAAC,IAAD,CAAtB;AACA,GAHD;;AAKA,MAAMiC,kCAAkC,GAAG,SAArCA,kCAAqC,GAAM;AAChD,QAAM5B,UAAU,GAAGmB,kBAAkB,CAAC3C,QAAQ,CAACwB,UAAV,CAArC;AACA,QAAMZ,YAAY,GAAG,EAArB;AACA,QAAME,aAAa,GAAG,EAAtB;AACAN,IAAAA,OAAO,CAACwB,MAAR,GAAiB,CAAjB,IACCxB,OAAO,CAAC6C,OAAR,CAAgB,UAACC,UAAD,EAAaC,KAAb,EAAuB;AACtC,UAAMvD,QAAQ,GAAGwB,UAAU,CAACgC,IAAX,CAChB,UAACxD,QAAD,EAAWyD,MAAX;AAAA,eAAsBH,UAAU,IAAItD,QAAQ,CAAC6B,KAA7C;AAAA,OADgB,CAAjB;AAGA7B,MAAAA,QAAQ,IAAIY,YAAY,CAACc,IAAb,CAAkB1B,QAAlB,CAAZ;AACA,KALD,CADD;AAQAU,IAAAA,QAAQ,CAACsB,MAAT,GAAkB,CAAlB,IACCtB,QAAQ,CAAC2C,OAAT,CAAiB,UAACC,UAAD,EAAaC,KAAb,EAAuB;AACvC,UAAMvD,QAAQ,GAAGwB,UAAU,CAACgC,IAAX,CAChB,UAACxD,QAAD,EAAWyD,MAAX;AAAA,eAAsBH,UAAU,IAAItD,QAAQ,CAAC6B,KAA7C;AAAA,OADgB,CAAjB;AAGA7B,MAAAA,QAAQ,IAAIc,aAAa,CAACY,IAAd,CAAmB1B,QAAnB,CAAZ;AACA,KALD,CADD;AAOAa,IAAAA,eAAe,CAACD,YAAD,CAAf;AACAG,IAAAA,gBAAgB,CAACD,aAAD,CAAhB;AACA,GArBD;;AAuBA,MAAM4C,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACC,GAAD,EAAM9B,KAAN,EAAa0B,KAAb,EAAoBT,IAApB,EAA6B;AACxD,QAAIA,IAAI,IAAI,SAAZ,EAAuB;AACtB,UAAMc,mBAAmB,GAAGhD,YAAY,CAACiD,GAAb,CAAiB,UAACC,IAAD,EAAOL,MAAP;AAAA,eAC5CF,KAAK,IAAIE,MAAT,mCAAuBK,IAAvB,2BAA8BH,GAA9B,EAAoC9B,KAApC,KAA8CiC,IADF;AAAA,OAAjB,CAA5B;AAGAjD,MAAAA,eAAe,CAAC+C,mBAAD,CAAf;AACA,KALD,MAKO,IAAId,IAAI,IAAI,UAAZ,EAAwB;AAC9B,UAAMiB,oBAAoB,GAAGjD,aAAa,CAAC+C,GAAd,CAAkB,UAACC,IAAD,EAAOL,MAAP;AAAA,eAC9CF,KAAK,IAAIE,MAAT,mCAAuBK,IAAvB,2BAA8BH,GAA9B,EAAoC9B,KAApC,KAA8CiC,IADA;AAAA,OAAlB,CAA7B;AAGA/C,MAAAA,gBAAgB,CAACgD,oBAAD,CAAhB;AACA;AACD,GAZD;;AAcA,MAAMC,qBAAqB,GAAG,SAAxBA,qBAAwB,GAAM;AACnC,QAAM7B,IAAI,GAAG,IAAIC,QAAJ,EAAb;AACAtB,IAAAA,aAAa,CAACuC,OAAd,CAAsB,UAACS,IAAD,EAAOP,KAAP,EAAiB;AACtCpB,MAAAA,IAAI,CAACG,MAAL,CAAY,KAAZ,EAAmBwB,IAAI,CAACjC,KAAxB;AACAM,MAAAA,IAAI,CAACG,MAAL,CAAY,MAAZ,EAAoBwB,IAAI,CAAClC,IAAzB;AACAO,MAAAA,IAAI,CAACG,MAAL,CAAY,UAAZ,EAAwBwB,IAAI,CAACjB,QAAL,GAAgBiB,IAAI,CAACjB,QAArB,GAAgC,EAAxD;AACAV,MAAAA,IAAI,CAACG,MAAL,CAAY,MAAZ,EAAoBwB,IAAI,CAAChB,IAAzB;AACA,KALD;AAOAlC,IAAAA,YAAY,CAACyC,OAAb,CAAqB,UAACS,IAAD,EAAOP,KAAP,EAAiB;AACrCpB,MAAAA,IAAI,CAACG,MAAL,CAAY,KAAZ,EAAmBwB,IAAI,CAACjC,KAAxB;AACAM,MAAAA,IAAI,CAACG,MAAL,CAAY,MAAZ,EAAoBwB,IAAI,CAAClC,IAAzB;AACAO,MAAAA,IAAI,CAACG,MAAL,CAAY,UAAZ,EAAwBwB,IAAI,CAACjB,QAAL,GAAgBiB,IAAI,CAACjB,QAArB,GAAgC,EAAxD;AACAV,MAAAA,IAAI,CAACG,MAAL,CAAY,MAAZ,EAAoBwB,IAAI,CAAChB,IAAzB;AACA,KALD;AAOA/C,IAAAA,QAAQ,CAACf,gBAAgB,CAACmD,IAAD,CAAjB,CAAR,CAAiC8B,IAAjC,CAAsC,UAACC,MAAD,EAAY;AACjD,UAAIA,MAAJ,EAAY;AACXnE,QAAAA,QAAQ,CAAChB,cAAc,EAAf,CAAR;AACA;AACD,KAJD;AAMAoC,IAAAA,sBAAsB,CAAC,KAAD,CAAtB;AACA,GAvBD;;AAyBA,MAAMgD,cAAc,GAAG,SAAjBA,cAAiB,GAAM;AAC5Bf,IAAAA,kCAAkC;AAClC/B,IAAAA,sBAAsB,CAAC,IAAD,CAAtB;AACA,GAHD;;AAKA,MAAMpC,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAM;AAC9B,QAAMmF,eAAe,GAAGxD,YAAY,CAACiD,GAAb,CAAiB,UAACC,IAAD,EAAOP,KAAP;AAAA,aAAkB;AAC1DzB,QAAAA,GAAG,EAAEgC,IAAI,CAACjC;AADgD,OAAlB;AAAA,KAAjB,CAAxB;AAGA,QAAMwC,gBAAgB,GAAGvD,aAAa,CAAC+C,GAAd,CAAkB,UAACC,IAAD,EAAOP,KAAP;AAAA,aAAkB;AAC5DzB,QAAAA,GAAG,EAAEgC,IAAI,CAACjC;AADkD,OAAlB;AAAA,KAAlB,CAAzB;AAGA,QAAMyC,QAAQ,GAAGD,gBAAgB,CAACE,MAAjB,CAAwBH,eAAxB,CAAjB;;AACA,QAAIxD,YAAY,CAACoB,MAAb,GAAsB,CAA1B,EAA6B;AAC5BjC,MAAAA,QAAQ,CAACb,sBAAsB,CAACkF,eAAD,CAAvB,CAAR,CAAkDH,IAAlD,CAAuD,UAACC,MAAD,EAAY;AAClE,YAAIA,MAAJ,EAAY;AACXnE,UAAAA,QAAQ,CAAChB,cAAc,EAAf,CAAR;AACAsC,UAAAA,sBAAsB,CAAC,KAAD,CAAtB;AACA;AACD,OALD;AAMA;;AACDtB,IAAAA,QAAQ,CAAChB,cAAc,EAAf,CAAR;AACAsC,IAAAA,sBAAsB,CAAC,KAAD,CAAtB;AACA,GAlBD;;AAoBA,MAAMmD,yBAAyB,GAAG,SAA5BA,yBAA4B,GAAM;AACvC,wBACC,QAAC,KAAD;AACC,MAAA,UAAU,EAAC,SADZ;AAEC,MAAA,IAAI,EAAEpD,mBAFP;AAGC,MAAA,WAAW,EAAE;AAAA,eAAMC,sBAAsB,CAAC,KAAD,CAA5B;AAAA,OAHd;AAIC,MAAA,OAAO,EAAE,CACR;AACCM,QAAAA,KAAK,EAAE,IADR;AAEC8C,QAAAA,KAAK,EAAE,SAFR;AAGCC,QAAAA,OAAO,EAAE,mBAAM;AACdrC,UAAAA,KAAK,CAAC,IAAD,CAAL;AACA;AALF,OADQ,EAQR;AACCV,QAAAA,KAAK,EAAE,KADR;AAEC8C,QAAAA,KAAK,EAAE,QAFR;AAGCC,QAAAA,OAAO,EAAEzF;AAHV,OARQ,CAJV;AAAA,+CAmBC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAnBD,EAoBE6B,aAAa,CAAC+C,GAAd,CAAkB,UAACC,IAAD,EAAOP,KAAP;AAAA,4BAClB;AAAA,oBAAmBO,IAAI,CAAClC;AAAxB,WAAW2B,KAAX;AAAA;AAAA;AAAA;AAAA,iBADkB;AAAA,OAAlB,CApBF,eAuBC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAvBD,EAwBE3C,YAAY,CAACiD,GAAb,CAAiB,UAACC,IAAD,EAAOP,KAAP;AAAA,4BACjB;AAAA,oBAAmBO,IAAI,CAAClC;AAAxB,WAAW2B,KAAX;AAAA;AAAA;AAAA;AAAA,iBADiB;AAAA,OAAjB,CAxBF;AAAA;AAAA;AAAA;AAAA;AAAA,aADD;AA8BA,GA/BD;;AAiCA,sBACE;AAAA,4BACA,QAAC,SAAD;AAAA,8BACC,QAAC,GAAD;AAAA,+BACC,QAAC,GAAD;AAAK,UAAA,EAAE,EAAE,EAAT;AAAA,iCACC;AAAK,YAAA,KAAK,EAAE;AAAEoB,cAAAA,OAAO,EAAE,MAAX;AAAmBC,cAAAA,cAAc,EAAE;AAAnC,aAAZ;AAAA,oCACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADD,eAEC;AAAK,cAAA,SAAS,EAAC,oBAAf;AAAA,sCACC;AAAQ,gBAAA,OAAO,EAAElC,UAAjB;AAAA,wCACC,QAAC,kBAAD;AAAA;AAAA;AAAA;AAAA,wBADD;AAAA;AAAA;AAAA;AAAA;AAAA,sBADD,eAKC;AAAQ,gBAAA,OAAO,EAAEyB,cAAjB;AAAA,wCACC,QAAC,cAAD;AAAA;AAAA;AAAA;AAAA,wBADD;AAAA;AAAA;AAAA;AAAA;AAAA,sBALD,eASC;AAAQ,gBAAA,OAAO,EAAEhB,cAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBATD;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,cADD,eAoBC,QAAC,GAAD;AAAA,+BACC,QAAC,GAAD;AAAK,UAAA,EAAE,EAAE,EAAT;AAAA,iCACC,QAAC,YAAD;AACC,YAAA,KAAK,EAAE5B,gBAAgB,CAACvB,QAAQ,CAACwB,UAAV,CADxB;AAEC,YAAA,OAAO,EAAEhB,OAFV;AAGC,YAAA,QAAQ,EAAEE,QAHX;AAIC,YAAA,OAAO,EAAE,iBAACF,OAAD;AAAA,qBAAaC,UAAU,CAACD,OAAD,CAAvB;AAAA,aAJV;AAKC,YAAA,QAAQ,EAAE,kBAACE,QAAD;AAAA,qBAAcC,WAAW,CAACD,QAAD,CAAzB;AAAA,aALX;AAMC,YAAA,KAAK,EAAE;AACNmE,cAAAA,KAAK,eAAE,QAAC,UAAD;AAAA;AAAA;AAAA;AAAA,sBADD;AAENC,cAAAA,OAAO,eAAE,QAAC,iBAAD;AAAA;AAAA;AAAA;AAAA,sBAFH;AAGNC,cAAAA,SAAS,eAAE,QAAC,iBAAD;AAAA;AAAA;AAAA;AAAA,sBAHL;AAINC,cAAAA,WAAW,eAAE,QAAC,6BAAD;AAAA;AAAA;AAAA;AAAA,sBAJP;AAKNC,cAAAA,UAAU,eAAE,QAAC,wBAAD;AAAA;AAAA;AAAA;AAAA;AALN;AANR;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,cApBD;AAAA;AAAA;AAAA;AAAA;AAAA,YADA,eAyCA,QAAC,gBAAD;AACC,MAAA,UAAU,EAAE,kBADb;AAEC,MAAA,IAAI,EAAEjE,IAFP;AAGC,MAAA,WAAW,EAAEiB,WAHd;AAIC,MAAA,WAAW,EAAEC,WAJd;AAKC,MAAA,YAAY,EAAEhC,YALf;AAMC,MAAA,eAAe,EAAEC,eANlB;AAOC,MAAA,YAAY,EAAEwC,kBAAkB,CAAC3C,QAAQ,CAACwB,UAAV,CAPjC;AAQC,MAAA,mBAAmB,EAAEuB,mBARtB;AASC,MAAA,gBAAgB,EAAE3C,gBATnB;AAUC,MAAA,mBAAmB,EAAEC;AAVtB;AAAA;AAAA;AAAA;AAAA,YAzCA,eAsDA,QAAC,qBAAD;AACC,MAAA,IAAI,EAAEa,mBADP;AAEC,MAAA,WAAW,EAAE;AAAA,eAAMC,sBAAsB,CAAC,KAAD,CAA5B;AAAA,OAFd;AAGC,MAAA,UAAU,EAAE,mBAHb;AAIC,MAAA,IAAI,EAAE,IAJP;AAKC,MAAA,aAAa,EAAEL,aALhB;AAMC,MAAA,YAAY,EAAEF,YANf;AAOC,MAAA,mBAAmB,EAAE8C,mBAPtB;AAQC,MAAA,YAAY,EAAEf,kBAAkB,CAAC3C,QAAQ,CAACwB,UAAV,CARjC;AASC,MAAA,qBAAqB,EAAEwC;AATxB;AAAA;AAAA;AAAA;AAAA,YAtDA,EAkECQ,yBAAyB,EAlE1B;AAAA,kBADF;AAsEA;;GA/RQ3E,Q;UACSjB,W,EAEAC,W;;;KAHTgB,Q;AAiST,eAAeA,QAAf","sourcesContent":["import React, { useState,useEffect } from \"react\";\nimport \"./style.css\";\nimport { Container, Row, Col, Button } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n\taddCategory,\n\tgetAllCategory,\n\tupdateCategories,\n\tdeleteCategories as deleteCategoriesAction,\n} from \"../../actions/category.action\";\n\nimport MODAL from \"../components/UI/Modal/index\";\nimport CheckboxTree from \"react-checkbox-tree\";\nimport \"react-checkbox-tree/lib/react-checkbox-tree.css\";\nimport {\n\tIoCheckboxOutline,\n\tIoCheckbox,\n\tIoChevronForwardCircleOutline,\n\tIoChevronDownCircleSharp,\n\tIoAddCircleOutline,\n\tIoTrashOutline,\n} from \"react-icons/io5\";\nimport UpdateCategoriesModal from \"./components/UpdateCategoriesModal\";\nimport AddCategoryModal from \"./components/AddCategoryModal\";\n\nfunction Category(props) {\n\tconst dispatch = useDispatch();\n\n\tconst category = useSelector((state) => state.category);\n\tconst [categoryName, setCategoryName] = useState(\"\");\n\tconst [parentCategoryId, setParentCategoryId] = useState(\"\");\n\tconst [categoryImage, setCategoryImage] = useState(null);\n\tconst [checked, setChecked] = useState([]);\n\tconst [expanded, setExpanded] = useState([]);\n\tconst [checkedArray, setCheckedArray] = useState([]);\n\tconst [expandedArray, setExpandedArray] = useState([]);\n\tconst [show, setShow] = useState(false);\n\tconst [updateCategoryModal, setUpdateCategoryModal] = useState(false);\n\tconst [deleteCategoryModal, setDeleteCategoryModal] = useState(false);\n\n\n\tuseEffect(() => {\n\t\tif(!category.loading){\n\n\t\t}\n\t\t\n\t\t\n\t}, [category.loading])\n\n\n\n\n\n\tconst renderCategories = (categories) => {\n\t\tlet myCategories = [];\n\n\t\tfor (let category of categories) {\n\t\t\tmyCategories.push({\n\t\t\t\tlabel: category.name,\n\t\t\t\tvalue: category._id,\n\t\t\t\tchildren:\n\t\t\t\t\tcategory.children.length > 0 && renderCategories(category.children),\n\t\t\t});\n\t\t}\n\t\treturn myCategories;\n\t};\n\n\tconst handleClose = () => {\n\t\tsetShow(false);\n\t};\n\n\tconst AddAndClose = () => {\n\t\tconst form = new FormData();\n\t\t\n\t\tif (categoryName == \"\") {\n\t\t\talert(\"Name is Required\");\n\t\t\treturn;\n\t\t}\n\n\t\tform.append(\"name\", categoryName);\n\t\tform.append(\"parentId\", parentCategoryId);\n\t\tform.append(\"categoryImage\", categoryImage);\n        console.log(form)\n\t\tdispatch(addCategory(form));\n\t\tsetCategoryName(\"\");\n\t\tsetParentCategoryId(\"\");\n\n\t\tconst cat = {\n\t\t\tcategoryName,\n\t\t\tparentCategoryId,\n\t\t\tcategoryImage,\n\t\t};\n\t\tconsole.log(cat);\n\t\tsetShow(false);\n\t};\n\n\tconst handleShow = () => setShow(true);\n\n\tconst createCategoryList = (categories, options = []) => {\n\t\tfor (let category of categories) {\n\t\t\toptions.push({\n\t\t\t\tvalue: category._id,\n\t\t\t\tname: category.name,\n\t\t\t\tparentId: category.parentId,\n\t\t\t\ttype: category.type,\n\t\t\t});\n\t\t\tif (category.children) {\n\t\t\t\tcreateCategoryList(category.children, options);\n\t\t\t}\n\t\t}\n\t\treturn options;\n\t};\n\n\tconst handleCategoryImage = (e) => {\n\t\tsetCategoryImage(e.target.files[0]);\n\t};\n\n\tconst updateCategory = () => {\n\t\tupdateCheckedAndExpandedCategories();\n\t\tsetUpdateCategoryModal(true);\n\t};\n\n\tconst updateCheckedAndExpandedCategories = () => {\n\t\tconst categories = createCategoryList(category.categories);\n\t\tconst checkedArray = [];\n\t\tconst expandedArray = [];\n\t\tchecked.length > 0 &&\n\t\t\tchecked.forEach((categoryId, index) => {\n\t\t\t\tconst category = categories.find(\n\t\t\t\t\t(category, _index) => categoryId == category.value\n\t\t\t\t);\n\t\t\t\tcategory && checkedArray.push(category);\n\t\t\t});\n\n\t\texpanded.length > 0 &&\n\t\t\texpanded.forEach((categoryId, index) => {\n\t\t\t\tconst category = categories.find(\n\t\t\t\t\t(category, _index) => categoryId == category.value\n\t\t\t\t);\n\t\t\t\tcategory && expandedArray.push(category);\n\t\t\t});\n\t\tsetCheckedArray(checkedArray);\n\t\tsetExpandedArray(expandedArray);\n\t};\n\n\tconst handleCategoryInput = (key, value, index, type) => {\n\t\tif (type == \"checked\") {\n\t\t\tconst updatedCheckedArray = checkedArray.map((item, _index) =>\n\t\t\t\tindex == _index ? { ...item, [key]: value } : item\n\t\t\t);\n\t\t\tsetCheckedArray(updatedCheckedArray);\n\t\t} else if (type == \"expanded\") {\n\t\t\tconst updatedExpandedArray = expandedArray.map((item, _index) =>\n\t\t\t\tindex == _index ? { ...item, [key]: value } : item\n\t\t\t);\n\t\t\tsetExpandedArray(updatedExpandedArray);\n\t\t}\n\t};\n\n\tconst UpdatedCategoriesForm = () => {\n\t\tconst form = new FormData();\n\t\texpandedArray.forEach((item, index) => {\n\t\t\tform.append(\"_id\", item.value);\n\t\t\tform.append(\"name\", item.name);\n\t\t\tform.append(\"parentId\", item.parentId ? item.parentId : \"\");\n\t\t\tform.append(\"type\", item.type);\n\t\t});\n\n\t\tcheckedArray.forEach((item, index) => {\n\t\t\tform.append(\"_id\", item.value);\n\t\t\tform.append(\"name\", item.name);\n\t\t\tform.append(\"parentId\", item.parentId ? item.parentId : \"\");\n\t\t\tform.append(\"type\", item.type);\n\t\t});\n\n\t\tdispatch(updateCategories(form)).then((result) => {\n\t\t\tif (result) {\n\t\t\t\tdispatch(getAllCategory());\n\t\t\t}\n\t\t});\n\n\t\tsetUpdateCategoryModal(false);\n\t};\n\n\tconst deleteCategory = () => {\n\t\tupdateCheckedAndExpandedCategories();\n\t\tsetDeleteCategoryModal(true);\n\t};\n\n\tconst deleteCategories = () => {\n\t\tconst checkedIdsArray = checkedArray.map((item, index) => ({\n\t\t\t_id: item.value,\n\t\t}));\n\t\tconst expandedIdsArray = expandedArray.map((item, index) => ({\n\t\t\t_id: item.value,\n\t\t}));\n\t\tconst idsArray = expandedIdsArray.concat(checkedIdsArray);\n\t\tif (checkedArray.length > 0) {\n\t\t\tdispatch(deleteCategoriesAction(checkedIdsArray)).then((result) => {\n\t\t\t\tif (result) {\n\t\t\t\t\tdispatch(getAllCategory());\n\t\t\t\t\tsetDeleteCategoryModal(false);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tdispatch(getAllCategory());\n\t\tsetDeleteCategoryModal(false);\n\t};\n\n\tconst renderDeleteCategoryModal = () => {\n\t\treturn (\n\t\t\t<MODAL\n\t\t\t\tmodalTitle='Confirm'\n\t\t\t\tshow={deleteCategoryModal}\n\t\t\t\thandleClose={() => setDeleteCategoryModal(false)}\n\t\t\t\tbuttons={[\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: \"No\",\n\t\t\t\t\t\tcolor: \"primary\",\n\t\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\t\talert(\"No\");\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: \"Yes\",\n\t\t\t\t\t\tcolor: \"danger\",\n\t\t\t\t\t\tonClick: deleteCategories,\n\t\t\t\t\t},\n\t\t\t\t]}>\n\t\t\t\tAre you sure?\n\t\t\t\t<h5>Expanded</h5>\n\t\t\t\t{expandedArray.map((item, index) => (\n\t\t\t\t\t<span key={index}>{item.name}</span>\n\t\t\t\t))}\n\t\t\t\t<h5>Checked</h5>\n\t\t\t\t{checkedArray.map((item, index) => (\n\t\t\t\t\t<span key={index}>{item.name}</span>\n\t\t\t\t))}\n\t\t\t</MODAL>\n\t\t);\n\t};\n\n\treturn (\n\t\t <>\n\t\t\t<Container>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col md={12}>\n\t\t\t\t\t\t<div style={{ display: \"flex\", justifyContent: \"space-between\" }}>\n\t\t\t\t\t\t\t<h3>Category</h3>\n\t\t\t\t\t\t\t<div className='actionBtnContainer'>\n\t\t\t\t\t\t\t\t<button onClick={handleShow}>\n\t\t\t\t\t\t\t\t\t<IoAddCircleOutline />\n\t\t\t\t\t\t\t\t\tAdd\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<button onClick={deleteCategory}>\n\t\t\t\t\t\t\t\t\t<IoTrashOutline />\n\t\t\t\t\t\t\t\t\tDelete\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<button onClick={updateCategory}>Edit</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\n\t\t\t\t<Row>\n\t\t\t\t\t<Col md={12}>\n\t\t\t\t\t\t<CheckboxTree\n\t\t\t\t\t\t\tnodes={renderCategories(category.categories)}\n\t\t\t\t\t\t\tchecked={checked}\n\t\t\t\t\t\t\texpanded={expanded}\n\t\t\t\t\t\t\tonCheck={(checked) => setChecked(checked)}\n\t\t\t\t\t\t\tonExpand={(expanded) => setExpanded(expanded)}\n\t\t\t\t\t\t\ticons={{\n\t\t\t\t\t\t\t\tcheck: <IoCheckbox />,\n\t\t\t\t\t\t\t\tuncheck: <IoCheckboxOutline />,\n\t\t\t\t\t\t\t\thalfCheck: <IoCheckboxOutline />,\n\t\t\t\t\t\t\t\texpandClose: <IoChevronForwardCircleOutline />,\n\t\t\t\t\t\t\t\texpandOpen: <IoChevronDownCircleSharp />,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</Container>\n\n\t\t\t<AddCategoryModal\n\t\t\t\tmodalTitle={\"Add New Category\"}\n\t\t\t\tshow={show}\n\t\t\t\thandleClose={handleClose}\n\t\t\t\tAddAndClose={AddAndClose}\n\t\t\t\tcategoryName={categoryName}\n\t\t\t\tsetCategoryName={setCategoryName}\n\t\t\t\tcategoryList={createCategoryList(category.categories)}\n\t\t\t\thandleCategoryImage={handleCategoryImage}\n\t\t\t\tparentCategoryId={parentCategoryId}\n\t\t\t\tsetParentCategoryId={setParentCategoryId}\n\t\t\t/>\n\n\t\t\t<UpdateCategoriesModal\n\t\t\t\tshow={updateCategoryModal}\n\t\t\t\thandleClose={() => setUpdateCategoryModal(false)}\n\t\t\t\tmodalTitle={\"Update Categories\"}\n\t\t\t\tsize={\"lg\"}\n\t\t\t\texpandedArray={expandedArray}\n\t\t\t\tcheckedArray={checkedArray}\n\t\t\t\thandleCategoryInput={handleCategoryInput}\n\t\t\t\tcategoryList={createCategoryList(category.categories)}\n\t\t\t\tUpdatedCategoriesForm={UpdatedCategoriesForm}\n\t\t\t/>\n\n\t\t\t{renderDeleteCategoryModal()}\n\t\t</>\n\t);\n}\n\nexport default Category;\n"]},"metadata":{},"sourceType":"module"}